{% extends "layout.html" %}
{% block title %}Login â€” ApexForge Registry{% endblock %}
{% block content %}
<section class="bg-white shadow rounded-lg p-6 max-w-lg mx-auto">
    <h1 class="text-2xl font-semibold mb-4">Developer Login</h1>
    <p class="text-sm text-slate-600 mb-6">Submit your registry credentials to obtain a JWT token. The token is stored in a secure cookie for convenience.</p>
    {% if error.is_some() %}
    <div class="bg-red-100 text-red-700 px-4 py-2 rounded mb-4 text-sm">{{ error.as_ref().unwrap() }}</div>
    {% endif %}
    {% if token.is_some() %}
    <div class="bg-green-100 text-green-700 px-4 py-2 rounded mb-4 text-sm">
        Token issued: <code class="block break-all text-xs mt-2">{{ token.as_ref().unwrap() }}</code>
    </div>
    {% endif %}
    <form method="post" class="space-y-4">
        <div>
            <label class="text-sm text-slate-600">Username</label>
            <input type="text" name="username" required class="w-full border rounded px-3 py-2" />
        </div>
        <div>
            <label class="text-sm text-slate-600">Password</label>
            <input type="password" name="password" required class="w-full border rounded px-3 py-2" />
        </div>
        <button class="bg-indigo-600 text-white px-4 py-2 rounded">Sign in</button>
    </form>
</section>
{% endblock %}
