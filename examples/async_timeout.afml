import forge;
import forge.async as async;
import forge.log as log;

fun notify() {
    log.info("timeout callback executed");
}

async fun load_data() {
    log.info("load_data: before sleep");
    await async.sleep(50);
    log.info("load_data: after sleep");
}

async fun apex() {
    log.info("apex start");
    await async.timeout(10, notify);
    await load_data();
    log.info("apex done");
}
